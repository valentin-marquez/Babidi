---
import ImageGallery from "@app/ImageGallery";
import HomeLayout from "@layouts/HomeLayout.astro";
const { slug } = Astro.params;

import { getPostBySlug } from "@lib/db";
const post = await getPostBySlug(slug);

if (!post) {
  return Astro.redirect("/404");
}
---

<HomeLayout>
  <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
    <div class="mt-4 rounded-lg p-6 shadow-md">
      <div class="flex flex-col sm:flex-row">
        <div class="sm:w-1/2">
          <ImageGallery imageUrls={post.image_urls} />
        </div>
        <div class="sm:w-1/2 sm:pl-6">
          <h1 class="mb-4 font-sora text-3xl font-bold">{post.title}</h1>
          <p class="text-gray-700">{"titulo"}</p>
        </div>
      </div>
    </div>
  </div>
</HomeLayout>
